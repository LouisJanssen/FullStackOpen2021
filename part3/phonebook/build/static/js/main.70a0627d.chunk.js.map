{"version":3,"sources":["services/Numbers.js","Filter.js","PersonForm.js","Persons.js","Notification.js","Footer.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","Filter","value","onChange","PersonForm","name","number","nameChange","numberChange","action","onSubmit","className","type","Persons","persons","filter","deleteName","map","person","onClick","key","includes","Notification","message","Footer","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","setMessage","useEffect","numberService","initialPersons","event","target","preventDefault","nameObject","filteredPerson","find","window","confirm","setTimeout","catch","returnedPerson","concat","error","filteredName","filteredId","ReactDOM","render","document","getElementById"],"mappings":"sLACMA,EAAU,eAqBD,EAnBA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAiB5B,EAdA,SAAAC,GAEb,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAY5B,EATM,SAAAG,GAEnB,OADgBP,IAAMQ,OAAN,UAAgBT,EAAhB,YAA2BQ,IAC5BL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAO5B,EAJA,SAACG,EAAIF,GAClB,OAAOL,IAAMS,IAAN,UAAaV,EAAb,YAAwBQ,GAAMF,I,OCTxBK,EARA,SAAC,GAAuB,IAAtBC,EAAqB,EAArBA,MAAOC,EAAc,EAAdA,SACpB,OACI,sDACuB,uBAAOD,MAAOA,EAAOC,SAAUA,QCa/CC,EAhBI,SAAC,GAAsD,IAArDC,EAAoD,EAApDA,KAAMC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,WAAYC,EAA0B,EAA1BA,aAAcC,EAAY,EAAZA,OACzD,OACI,uBAAMC,SAAUD,EAAQE,UAAU,aAAlC,UACA,sBAAKA,UAAU,YAAf,mBACQ,uBAAOT,MAAOG,EAAMF,SAAUI,OAEtC,sBAAKI,UAAU,YAAf,qBACU,uBAAOT,MAAOI,EAAQH,SAAUK,OAE1C,8BACE,wBAAQI,KAAK,SAAb,uBCSKC,EAnBC,SAAC,GAAmC,IAAlCC,EAAiC,EAAjCA,QAASC,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,WAC/B,OACI,oBAAIL,UAAU,UAAd,SACY,KAAXI,EACCD,EAAQG,KAAI,SAACC,GAAD,OACV,+BACGA,EAAOb,KADV,IACiBa,EAAOZ,OADxB,IACgC,wBAAQa,QAAS,WAAOH,EAAWE,EAAOpB,KAA1C,sBADvBoB,EAAOb,SAGfU,QAAO,SAAAG,GAAM,OAAIA,EAAOE,IAAIC,SAASN,MACxCD,EAAQG,KAAI,SAACC,GAAD,OACZ,+BACGA,EAAOb,KADV,IACiBa,EAAOZ,OADxB,IACgC,wBAAQa,QAAS,WAAOH,EAAWE,EAAOpB,KAA1C,sBADvBoB,EAAOb,YCUXiB,EApBM,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACpB,OAAgB,OAAZA,EACK,KAENA,EAAQF,SAAS,SAEhB,qBAAKV,UAAU,QAAf,SACGY,IAMH,qBAAKZ,UAAU,UAAf,SACGY,KCLIC,EATA,WACX,OACI,sBAAKb,UAAU,SAAf,UACI,kEACA,8EC6IGc,EA3IH,WACV,MAA8BC,mBAAS,IAAvC,mBAAOZ,EAAP,KAAgBa,EAAhB,KACA,EAA8BD,mBAAS,IAAvC,mBAAOE,EAAP,KAAgBC,EAAhB,KACA,EAAkCH,mBAAS,IAA3C,mBAAOI,EAAP,KAAkBC,EAAlB,KACA,EAA4BL,mBAAS,IAArC,mBAAOX,EAAP,KAAeiB,EAAf,KACA,EAA8BN,mBAAS,MAAvC,mBAAOH,EAAP,KAAgBU,EAAhB,KAEAC,qBAAU,WACRC,IAEG1C,MAAK,SAAA2C,GACJT,EAAWS,QAEd,IA8GH,OACE,sBAAKzB,UAAU,YAAf,UACA,oBAAIA,UAAU,QAAd,uBACE,sBAAKA,UAAU,UAAf,UACE,cAAC,EAAD,CAAcY,QAASA,IACvB,cAAC,EAAD,CAAQrB,MAAOa,EAAQZ,SA3GF,SAACkC,GAC1BL,EAAUK,EAAMC,OAAOpC,UA2GnB,kDACA,cAAC,EAAD,CAAYG,KAAMuB,EAAStB,OAAQwB,EAAWvB,WAnH3B,SAAC8B,GACxBR,EAAWQ,EAAMC,OAAOpC,QAkHwDM,aAhHvD,SAAC6B,GAC1BN,EAAaM,EAAMC,OAAOpC,QA+GwFO,OAzGpG,SAAC4B,GACfA,EAAME,iBACN,IAAMC,EAAa,CACjBnC,KAAMuB,EACNtB,OAAQwB,GAEJW,EAAiB3B,EAAQC,QAAO,SAACG,GAAD,OAAYA,EAAOb,OAASuB,KAC/Dd,EAAQG,KAAI,SAACC,GAAD,OAAYA,EAAOb,QAAMqC,MAAK,SAACxB,GAAD,OAAYA,IAAWU,KAC/De,OAAOC,QAAP,UAAkBhB,EAAlB,uEACDO,EACUM,EAAe,GAAG3C,GAAI0C,GAC7B/C,MAAK,WACJ0C,IAEC1C,MAAK,SAAA2C,GACJT,EAAWS,MAEbP,EAAW,IACXE,EAAa,IACbE,EAAW,GAAD,OACLQ,EAAe,GAAGpC,KADb,oBAGVwC,YAAW,WACTZ,EAAW,QACV,QAEJa,OAAM,WACLb,EAAW,UAAD,OACEQ,EAAe,GAAGpC,KADpB,qBAGVwC,YAAW,WACTZ,EAAW,QACV,SAIPJ,EAAW,IACXE,EAAa,KAIfI,EACQK,GACP/C,MAAK,SAAAsD,GACJpB,EAAWb,EAAQkC,OAAOD,IAC1BlB,EAAW,IACXE,EAAa,IACbE,EAAW,GAAD,OACLc,EAAe1C,KADV,WAGVwC,YAAW,WACTZ,EAAW,QACV,QAEJa,OAAM,SAAAG,GACLhB,EAAW,UAAD,OAAWgB,EAAMvD,SAASC,KAAKsD,QACzCJ,YAAW,WACTZ,EAAW,QACV,WAgDH,yCACA,cAAC,EAAD,CAASnB,QAASA,EAASC,OAAQA,EAAQC,WApC9B,SAAClB,GAClB,IAAM2C,EAAiB3B,EAAQC,QAAO,SAACG,GAAD,OAAYA,EAAOpB,KAAOA,KAC1DoD,EAAeT,EAAe,GAAGpC,KACjC8C,EAAaV,EAAe,GAAG3C,GACjC6C,OAAOC,QAAP,gCAAwCM,EAAxC,eACFf,EACgBgB,GACb1D,MAAK,WACJkC,EAAWb,EAAQC,QAAO,SAAAG,GAAM,OAAIA,EAAOpB,KAAOqD,MAClDlB,EAAW,GAAD,OACLiB,EADK,aAGVL,YAAW,WACTZ,EAAW,QACV,QAEJa,OAAM,WACLb,EAAW,UAAD,OACEQ,EAAe,GAAGpC,KADpB,qBAGVwC,YAAW,WACTZ,EAAW,QACV,cAgBP,cAAC,EAAD,Q,MC1INmB,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.70a0627d.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deleteNumber = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nexport default { getAll, create, deleteNumber, update }","import React from 'react'\r\n\r\nconst Filter = ({value, onChange}) => {\r\n    return (\r\n        <div>\r\n            Filter shown with: <input value={value} onChange={onChange} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({name, number, nameChange, numberChange, action}) => {\r\n    return (\r\n        <form onSubmit={action} className='numberForm'>\r\n        <div className='entryForm'>\r\n          Name: <input value={name} onChange={nameChange} />\r\n        </div>\r\n        <div className='entryForm'>\r\n          Number: <input value={number} onChange={numberChange} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">Add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({persons, filter, deleteName}) => {\r\n    return (\r\n        <ul className='numbers'>\r\n        {filter !== \"\" \r\n        ? persons.map((person) => (\r\n            <li key={person.name}>\r\n              {person.name} {person.number} <button onClick={() => {deleteName(person.id)}}>Delete</button>\r\n            </li>))\r\n            .filter(person => person.key.includes(filter))\r\n        : persons.map((person) => (\r\n          <li key={person.name}>\r\n            {person.name} {person.number} <button onClick={() => {deleteName(person.id)}}>Delete</button>\r\n          </li>\r\n        ))\r\n        }\r\n      </ul>\r\n    )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n    if(message.includes('Error')){\r\n      return (\r\n        <div className=\"error\">\r\n          {message}\r\n        </div>\r\n      )\r\n    }\r\n    else{\r\n      return (\r\n        <div className=\"message\">\r\n          {message}\r\n        </div>\r\n      )    \r\n    }\r\n  }\r\n\r\nexport default Notification","import React from 'react'\r\n\r\nconst Footer = () => {\r\n    return(\r\n        <div className='Footer'>\r\n            <p>Copyright Â© Louis Janssen 2021</p>\r\n            <p>For the Helsinki's Full Stack Open course</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Footer","import React, { useState, useEffect } from 'react'\r\nimport numberService from './services/Numbers'\r\nimport Filter from './Filter'\r\nimport PersonForm from './PersonForm'\r\nimport Persons from './Persons'\r\nimport Notification from './Notification'\r\nimport Footer from './Footer'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const [filter, setFilter] = useState(\"\");\r\n  const [message, setMessage] = useState(null);\r\n\r\n  useEffect(() => {\r\n    numberService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n  }, [])\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value);\r\n  };\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value);\r\n  };\r\n  const handleFilterChange = (event) => {\r\n    setFilter(event.target.value);\r\n  };\r\n\r\n  const addName = (event) => {\r\n    event.preventDefault();\r\n    const nameObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    };\r\n    const filteredPerson = persons.filter((person) => person.name === newName)\r\n    if(persons.map((person) => person.name).find((person) => person === newName)){\r\n      if(window.confirm(`${newName} is already added to phonebook, do you want to change the number ?`)){\r\n        numberService\r\n          .update(filteredPerson[0].id, nameObject)\r\n          .then(() => {\r\n            numberService\r\n            .getAll()\r\n            .then(initialPersons => {\r\n              setPersons(initialPersons)\r\n            })\r\n            setNewName(\"\");\r\n            setNewNumber(\"\");\r\n            setMessage(\r\n              `${filteredPerson[0].name} number updated`\r\n              )\r\n            setTimeout(() => {\r\n              setMessage(null)\r\n            }, 5000)\r\n          })\r\n          .catch(() => {\r\n            setMessage(\r\n              `Error: ${filteredPerson[0].name} already updated`\r\n              )\r\n            setTimeout(() => {\r\n              setMessage(null)\r\n            }, 5000)\r\n          })\r\n      }\r\n      else{\r\n        setNewName(\"\");\r\n        setNewNumber(\"\");        \r\n      }\r\n    }\r\n    else{\r\n      numberService\r\n      .create(nameObject)\r\n      .then(returnedPerson => {      \r\n        setPersons(persons.concat(returnedPerson));\r\n        setNewName(\"\");\r\n        setNewNumber(\"\");\r\n        setMessage(\r\n          `${returnedPerson.name} added`\r\n          )\r\n        setTimeout(() => {\r\n          setMessage(null)\r\n        }, 5000)\r\n      })\r\n      .catch(error => {\r\n        setMessage(`Error: ${error.response.data.error}`)\r\n        setTimeout(() =>{\r\n          setMessage(null)\r\n        }, 5000)\r\n      })\r\n    // .catch(() => {\r\n    //   setMessage(\r\n    //     `Error: ${filteredPerson[0].name} already added`\r\n    //     )\r\n    //   setTimeout(() => {\r\n    //     setMessage(null)\r\n    //   }, 5000)\r\n    // })\r\n    } \r\n  };\r\n\r\n  const deleteName = (id) => {\r\n    const filteredPerson = persons.filter((person) => person.id === id)\r\n    const filteredName = filteredPerson[0].name\r\n    const filteredId = filteredPerson[0].id\r\n    if (window.confirm(`Do you want to delete ${filteredName} number ?`)){\r\n      numberService\r\n        .deleteNumber(filteredId)\r\n        .then(() => {\r\n          setPersons(persons.filter(person => person.id !== filteredId))\r\n          setMessage(\r\n            `${filteredName} deleted`\r\n            )\r\n          setTimeout(() => {\r\n            setMessage(null)\r\n          }, 5000)\r\n        })\r\n        .catch(() => {\r\n          setMessage(\r\n            `Error: ${filteredPerson[0].name} already deleted`\r\n            )\r\n          setTimeout(() => {\r\n            setMessage(null)\r\n          }, 5000)\r\n        })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='container'>\r\n    <h2 className='Title'>Phonebook</h2>\r\n      <div className='content'>\r\n        <Notification message={message}/>\r\n        <Filter value={filter} onChange={handleFilterChange} />\r\n        <h3>Add a new number</h3>\r\n        <PersonForm name={newName} number={newNumber} nameChange={handleNameChange} numberChange={handleNumberChange} action={addName}/>\r\n        <h3>Numbers</h3>\r\n        <Persons persons={persons} filter={filter} deleteName={deleteName}/>\r\n      </div>\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;","import ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport './index.css'\r\n\r\nReactDOM.render(\r\n  <App />, \r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}